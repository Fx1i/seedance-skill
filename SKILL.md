# Story to Storyboard Skill

## 概述

将自然语言剧情描述自动拆分成适合AI视频生成的片段（考虑15秒时长限制），生成结构化分镜稿和优化的AI提示词。

## 核心功能

### 智能语义分割
基于语义理解进行智能分割，而非简单按句子长度拆分：
- 识别场景转换点
- 保护动作完整性
- 保持叙事连贯性

### 时长智能分配
根据动作复杂度动态调整片段时长：
- 简单动作：3-5秒
- 中等复杂：5-10秒
- 复杂场景：10-15秒
- 场景过渡：2-3秒

### 自动分镜稿生成
为每个片段生成结构化分镜稿：
- 场景描述
- 主体识别
- 动作描述
- 镜头选择
- 风格确定

### AI提示词生成
基于分镜稿自动生成优化的AI视频提示词：
- 应用通用公式：主体+场景→动作→机位→风格/光线→节奏/约束
- 确保片段间连贯性
- 保持视觉风格一致

## 使用方法

### 基本用法

输入剧情描述，系统自动生成完整的分镜稿和AI提示词。

#### 示例输入
```
一个女孩在海边看日落，然后转身跑回家
```

#### 输出示例

**片段1：**
- 预估时长：5秒
- 场景：海边，日落时分
- 主体：穿着红色运动服的女孩
- 动作：看日落，静静站立
- 机位：中景，固定镜头
- 风格：温暖柔和，黄金时刻光线
- 备注：营造宁静氛围，面向大海方向
- AI提示词：`"A girl in red sportswear standing at beach watching sunset, medium shot fixed, warm soft lighting, golden hour, peaceful atmosphere"`

**片段2：**
- 预估时长：6秒
- 场景：海边，同一位置
- 主体：穿着红色运动服的女孩
- 动作：转身，开始跑
- 机位：跟拍，平滑移动
- 风格：温暖，动态感
- 备注：保持红色运动服，转身动作流畅
- AI提示词：`"The girl in red sportswear turns around and starts running, smooth tracking shot following her movement, warm lighting, dynamic motion"`

**片段3：**
- 预估时长：6秒
- 场景：沿海道路
- 主体：穿着红色运动服的女孩
- 动作：跑向远方
- 机位：侧后方跟拍
- 风格：温暖渐暗，黄昏光线
- 备注：保持红色运动服，奔跑姿势一致
- AI提示词：`"The girl in red sportswear running along the coastal road, side-angle tracking shot, warm dusk lighting, energetic motion, single continuous shot"`

### 输入建议

1. **提供清晰的剧情描述**
   ```
   ✅ 好的输入："小明在公园散步，看到一只猫，他停下来观察，然后继续走"
   ❌ 不好的输入："小明做了一些事"
   ```

2. **包含关键信息**
   - 角色信息（谁）
   - 场景描述（在哪里）
   - 主要动作（做什么）
   - 时间信息（何时）
   - 情感氛围（什么感觉）

3. **复杂剧情分段处理**
   对于长剧情，可以分段输入：
   ```
   输入1："女孩起床，洗漱，吃早餐"
   输入2："出门，坐公交车，到达公司"
   ```

## 输出格式

每个片段包含以下信息：

```
片段 [编号]：
- 预估时长：[X]秒
- 场景：[地点/环境]
- 主体：[主要角色/对象]
- 动作：[主要动作]
- 机位：[镜头类型+运动]
- 风格：[视觉风格+光线]
- 备注：[连贯性要点]
- AI提示词：[英文提示词]
```

## 基础镜头类型

### 特写（Close-up）
**用途**：强调面部表情或细节
**适用**：情感表达、重要细节、产品特写
**提示词**：`"close-up shot of [subject]"`

### 中景（Medium Shot）
**用途**：展示角色上半身，通用镜头
**适用**：对话场景、日常活动、一般动作
**提示词**：`"medium shot of [subject]"`

### 全景（Wide Shot）
**用途**：展示完整环境
**适用**：场景介绍、展现环境规模
**提示词**：`"wide shot of [scene]"`

### 跟拍（Tracking Shot）
**用途**：跟随移动主体
**适用**：追逐场景、行走动作、移动场景
**提示词**：`"tracking shot following [subject]"`

### 固定镜头（Fixed Shot）
**用途**：稳定画面，静态场景
**适用**：静态场景、表情特写、环境展示
**提示词**：`"fixed shot of [subject]"`

### 推镜/拉镜（Dolly In/Out）
**用途**：强调重要性或创造距离感
**适用**：强调关键时刻、场景转换
**提示词**：`"slow dolly-in to [subject]"`

## 核心算法

### 剧情解析
- 语义分析剧情描述
- 提取关键要素（角色、场景、动作、时间）
- 建立结构化时间线
- 识别自然段落和情节点

### 语义分割
- 基于语义理解，而非简单句子长度
- 识别场景转换（地点、时间、角色变化）
- 保护动作完整性和叙事连贯性
- 智能时长分配（3-15秒）

### 分镜稿生成
- 分析片段信息（场景、主体、动作）
- 设计镜头（类型、运动）
- 确定风格（视觉、光线）
- 生成分镜稿和AI提示词

## 使用场景

- 短视频创作（TikTok、Reels、Shorts）
- AI视频生成
- 故事板制作
- 视频预视觉化
- 内容创作规划

## 注意事项

1. **时长估算**：提示词应与预估时长匹配
2. **动作可行性**：确保动作在指定时长内可完成
3. **风格一致性**：保持视觉风格在片段间协调
4. **镜头合理性**：镜头选择应适合动作类型
5. **AI生成特性**：考虑AI视频生成的特点和限制

## 最佳实践

1. **简洁明确**：保持描述清晰，避免过于复杂的句子结构
2. **单一焦点**：每个片段聚焦一个主要动作或场景
3. **参考示例**：查看更多示例获取灵感
4. **迭代优化**：根据生成结果调整输入，逐步优化
5. **关注连贯性**：留意"备注"中的连贯性要点

## 相关文档

- **核心算法详细说明**：`core/` 目录
  - `story-parser.md`：智能剧情解析算法
  - `semantic-segmenter.md`：智能语义分割算法
  - `storyboard-generator.md`：分镜稿+提示词生成

- **使用示例**：`examples/basic-examples.md`

- **镜头类型参考**：`templates/basic-shot-types.md`
